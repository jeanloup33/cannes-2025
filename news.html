<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Actualités - Festival de Cannes Night</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'gold': '#d4af37',
            'goldSoft': '#f4e4a6',
            'champagne': '#f7e7bf',
            'noir': '#0b0b0d'
          },
          fontFamily: {
            'display': ['Playfair Display', 'serif']
          }
        }
      }
    }
  </script>  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body class="bg-noir text-white min-h-screen">

<header class="sticky top-0 z-50 border-b border-black/20 bg-[#84131f]/60 backdrop-blur-xl text-white">
  <nav class="container mx-auto px-5 py-3 flex items-center justify-between">
    <a href="index.html#hero" class="flex items-center gap-4 group">
      <img src="./assets/logo.webp" alt="Logo de la soirée" class="h-12 md:h-14 w-auto object-contain logo-glow" width="96" height="96" />
      <span class="hidden sm:inline text-lg md:text-xl font-extrabold tracking-wide gold-text">NIGHT PARTY</span>
    </a>
    <div class="flex items-center gap-3">
      <a href="index.html" class="inline-flex items-center gap-2 rounded-xl border border-white/15 text-white font-semibold text-[16px] px-4 py-2 hover:bg-white/10 transition">
        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
          <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
        </svg>
        Accueil
      </a>
      <a href="index.html#tickets" class="inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-gold to-goldSoft text-black font-semibold text-[16px] px-4 py-2 shadow-[0_4px_0_rgba(0,0,0,0.28)] hover:translate-y-[1px] hover:shadow-[0_3px_0_rgba(0,0,0,0.32)] transition">
        Confirmer
      </a>
    </div>
  </nav>
</header>

<main class="container mx-auto px-6 py-10">
  <h1 class="font-display text-4xl md:text-5xl gold-text mb-8">Actualités</h1>
  
  <div id="newsContainer" class="grid gap-6">
    <p class="text-white/70">Chargement des actualités...</p>
  </div>
</main>

<script>
  // Chargement et affichage des actualités
  (async () => {
    const container = document.getElementById('newsContainer');
    if (!container) return;
    
    try {
      const res = await fetch('./assets/news.json?v=' + Date.now(), { cache: 'no-store' });
      if (!res.ok) throw new Error();
      const items = await res.json();
      
      if (!items.length) {
        container.innerHTML = '<p class="text-white/70">Aucune actualité pour le moment.</p>';
        return;
      }
      
      container.innerHTML = items.map(news => `
        <article class="bg-white/5 border border-white/10 rounded-2xl p-6">
          <h2 class="text-2xl font-extrabold gold-text mb-3">${news.title}</h2>
          <div class="text-white/60 text-sm mb-4">
            ${news.date ? new Date(news.date).toLocaleDateString('fr-FR') : ''}
            ${news.category ? ' • ' + news.category : ''}
          </div>
          ${news.description ? `<p class="text-white/80 mb-4">${news.description}</p>` : ''}
          ${news.body_html ? `<div class="prose prose-invert max-w-none">${news.body_html}</div>` : ''}
        </article>
      `).join('');
    } catch {
      container.innerHTML = '<p class="text-white/70">Actualités indisponibles.</p>';
    }
  })();
</script>

</body>
</html>
