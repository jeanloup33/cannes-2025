<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Actualit√©s ‚Äî Soir√©e Festival de Cannes</title>
  <meta name="description" content="Testez vos connaissances du cin√©ma fran√ßais, am√©ricain et italien avec nos quiz interactifs." />
  <meta name="theme-color" content="#0b0b0d" />

  <link rel="icon" href="./icons/icon-192.png" />
  <link rel="manifest" href="./manifest.webmanifest" />


  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'media',
      theme: {
        extend: {
          colors: {
            night: '#0b0b0d',
            noir: '#111114',
            gold: '#e8c77d',
            goldSoft: '#f0dfb0',
            ruby: '#b80f2f',
            champagne: '#f5efe1',
          },
          fontFamily: {
            display: ['"Playfair Display"', 'serif'],
            sans: ['Manrope', 'system-ui', 'sans-serif'],
          },
          boxShadow: {
            glow: '0 0 0 2px rgba(232,199,125,0.35), 0 20px 60px rgba(0,0,0,0.5)',
          },
          backgroundImage: {
            glam: 'radial-gradient(1000px 600px at 80% -10%, rgba(232,199,125,0.14), transparent 60%), linear-gradient(180deg, #0b0b0d 0%, #111114 70%, #0b0b0d 100%)',
          },
        },
      },
    }
  </script>

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./premium-styles.css" />

  <style>
    .gold-text {
      background: linear-gradient(135deg, #f7ebc2, #e8c77d, #b99243);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .logo-glow {
      filter: drop-shadow(0 6px 18px rgba(232, 199, 125, .28)) drop-shadow(0 0 10px rgba(232, 199, 125, .18));
    }

    .noise::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: .07;
      mix-blend-mode: soft-light;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" opacity="0.5" width="100" height="100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2"/></filter><rect filter="url(%23n)" width="100%" height="100%"/></svg>');
    }
  </style>

  <meta property="og:type" content="website">
  <meta property="og:title" content="Actualit√©s ‚Äî Soir√©e Festival de Cannes">
  <meta property="og:description" content="Testez vos connaissances du cin√©ma fran√ßais, am√©ricain et italien avec nos quiz interactifs.">
  <meta property="og:url" content="https://jeanloup33.github.io/cannes-2025/news.html">
  <link rel="canonical" href="https://jeanloup33.github.io/cannes-2025/news.html">
</head>

<body class="bg-glam text-white font-sans noise">

  <header class="sticky top-0 z-50 premium-nav">
    <nav class="container mx-auto px-5 py-3 flex items-center justify-between">
      <a href="index.html#hero" class="flex items-center gap-4 group">
        <img src="./assets/logo.webp?v=20250808" alt="Logo de la soir√©e" class="h-16 md:h-20 w-auto object-contain drop-shadow-[0_4px_20px_rgba(232,199,125,0.25)] logo-glow" width="128" height="128" decoding="async" fetchpriority="high" />
        <span class="hidden sm:inline text-xl md:text-[22px] font-extrabold tracking-wide gold-text transition group-hover:opacity-90">NIGHT PARTY</span>
      </a>

      <button id="nav-toggle"
              class="md:hidden p-2 rounded-lg border border-white/10 hover:bg-white/5 touch-target"
              aria-expanded="false" aria-controls="mobile-menu" aria-label="Ouvrir le menu de navigation">
        <span class="sr-only">Menu</span>
        <div class="w-6 h-[2px] bg-white my-1"></div>
        <div class="w-6 h-[2px] bg-white my-1"></div>
        <div class="w-6 h-[2px] bg-white my-1"></div>
      </button>

      <ul class="hidden md:flex items-center gap-6">
        <li><a href="news.html" class="premium-nav-item"><span>Actus</span></a></li>
        <li><a href="index.html#about" class="premium-nav-item"><span>√Ä propos</span></a></li>
        <li><a href="index.html#program" class="premium-nav-item"><span>Programme</span></a></li>
        <li><a href="index.html#dress" class="premium-nav-item"><span>Dress code</span></a></li>
        <li><a href="gallery.html" class="premium-nav-item"><span>Les Stars</span></a></li>
        <li><a href="quizz.html" class="premium-nav-item"><span>Quiz</span></a></li>
        <li><a href="index.html#faq" class="premium-nav-item"><span>FAQ</span></a></li>
      </ul>
    </nav>

    <div id="mobile-menu" class="md:hidden hidden premium-mobile-menu">
      <div class="container mx-auto px-5 py-3 grid gap-1.5">
        <a class="premium-mobile-item" href="news.html">Actus</a>
        <a class="premium-mobile-item" href="index.html#about">√Ä propos</a>
        <a class="premium-mobile-item" href="index.html#program">Programme</a>
        <a class="premium-mobile-item" href="index.html#dress">Dress code</a>
        <a class="premium-mobile-item" href="gallery.html">Les Stars</a>
        <a class="premium-mobile-item" href="quizz.html">Quiz</a>
        <a class="premium-mobile-item" href="index.html#faq">FAQ</a>
      </div>
    </div>
  </header>

  <section class="py-10 md:py-14">
    <div class="container mx-auto px-6">
      <h1 class="font-display text-3xl md:text-4xl gold-text">Actualit√©s</h1>
      <p class="text-white/70 mt-2">Les derni√®res actualit√©s et nouvelles du Festival de Cannes 2025.</p>
    </div>
  </section>

  <main class="pb-20">
    <div class="container mx-auto px-6">
      <div class="flex items-center justify-between mb-6">
        <h1 class="font-display text-3xl md:text-4xl gold-text">Actualit√©s</h1>
        <button onclick="render()" class="premium-button text-sm px-4 py-2">
          üîÑ Rafra√Æchir
        </button>
      </div>
      <div id="newsView" class="grid gap-4">Chargement‚Ä¶</div>
    </div>
  </main>

  <footer class="border-t border-white/10 py-8 bg-noir">
    <div class="container mx-auto px-6 text-center">
      <a href="index.html" class="inline-block bg-gradient-to-r from-gold to-goldSoft text-black font-bold py-3 px-8 rounded-xl hover:from-goldSoft hover:to-gold transition-all duration-300 shadow-[0_4px_0_rgba(0,0,0,0.28)] hover:translate-y-[1px] hover:shadow-[0_3px_0_rgba(0,0,0,0.32)]">
        ‚Üê Retour √† l'accueil
      </a>
    </div>
  </footer>



  <script src="app.js"></script>
  <script>
    const dateFmt = new Intl.DateTimeFormat('fr-FR', {
      dateStyle: 'short'
    });
    const dateTimeFmt = new Intl.DateTimeFormat('fr-FR', {
      dateStyle: 'short',
      timeStyle: 'medium'
    });

    function formatDate(s, withTime = true) {
      if (!s) return '';
      const d = new Date(s);
      if (isNaN(d)) return s;
      return withTime ? dateTimeFmt.format(d) : dateFmt.format(d);
    }

    function ensureMeta(name, attr, value) {
      let el = document.querySelector(`meta[${attr}="${name}"]`);
      if (!el) {
        el = document.createElement('meta');
        el.setAttribute(attr, name);
        document.head.appendChild(el);
      }
      el.setAttribute('content', value);
    }

    function setDetailSEO(n) {
      document.title = `${n.title} ‚Äî Soir√©e Festival de Cannes`;
      ensureMeta('description', 'name', n.description || n.title || 'Actualit√©');
      ensureMeta('og:type', 'property', 'article');
      ensureMeta('og:title', 'property', n.title);
      ensureMeta('og:description', 'property', n.description || n.title || 'Actualit√©');
      const canonical = new URL(location.href);
      ensureMeta('og:url', 'property', canonical.toString());
      if (n.image) {
        ensureMeta('og:image', 'property', new URL(n.image, location.origin).toString());
      }
    }

    const escAttr = (s) => String(s ?? '').replace(/"/g, '&quot;');

    function getNewsUrl() {
      return `./assets/news.json?v=${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    }

    async function render() {
      const el = document.getElementById('newsView');
      const params = new URLSearchParams(location.search);
      const slug = params.get('slug');

      try {
        const res = await fetch(NEWS_JSON_URL, {
          cache: 'no-store',
          headers: {
            'Cache-Control': 'no-cache, no-store, must-revalidate',
            'Pragma': 'no-cache',
            'Expires': '0'
          }
        });
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const items = await res.json();

        // --- Vue LISTE ---
        if (!slug) {
          el.innerHTML = items.map(n => {
          // Pour les cards, utiliser une version nettoy√©e sans markdown
          const displayText = (n.description || n.body || '')
            .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // Convertir ** en <strong>
            .replace(/\*(.*?)\*/g, '<em>$1</em>')           // Convertir * en <em>
            .substring(0, 150);
          
          return `
            <article class="p-5 md:p-6 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all duration-300">
              <h3 class="text-xl md:text-2xl font-extrabold">
                <a class="premium-link hover:text-gold transition-colors" href="news.html?slug=${encodeURIComponent(n.slug)}">${n.title}</a>
              </h3>
              <div class="text-white/70 text-sm mt-1">${n.date ? formatDate(n.date) : ''}${n.category ? ' ‚Ä¢ ' + n.category : ''}</div>
              ${n.image ? `<img src="${n.image}" alt="${escAttr(n.description || n.title || 'Illustration')}" class="mt-3 rounded-xl border border-white/10">` : ''}
              ${displayText ? `<p class="mt-3 text-white/80">${displayText}...</p>` : ''}
              <div class="mt-4">
                <a class="text-gold hover:text-goldSoft transition-colors text-sm font-medium" href="news.html?slug=${encodeURIComponent(n.slug)}">Lire la suite ‚Üí</a>
              </div>
            </article>
          `
        }).join('') || '<p class="text-white/70">Aucune actualit√©.</p>';
          return;
        }

        // --- Vue D√âTAIL ---
        const n = items.find(x => x.slug === slug);
        if (!n) {
          el.innerHTML = '<p class="text-white/70">Article introuvable.</p>';
          return;
        }

        setDetailSEO(n);
        el.innerHTML = `
          <article class="p-5 md:p-6 rounded-2xl bg-white/5 border border-white/10">
            <h1 class="font-display text-2xl md:text-4xl gold-text">${n.title}</h1>
            <div class="text-white/70 text-sm mt-1">${n.date ? formatDate(n.date) : ''}${n.category ? ' ‚Ä¢ ' + n.category : ''}</div>
            ${n.image ? `<img src="${n.image}" alt="${escAttr(n.description || n.title || 'Illustration')}" class="mt-5 rounded-xl border border-white/10">` : ''}
            ${n.description ? `<p class="text-white/80 text-lg mt-4">${n.description}</p>` : ''}
            <div class="prose prose-invert max-w-none mt-5">${n.body_html || '<p class="text-white/80">' + (n.body || 'Aucun contenu disponible.') + '</p>'}</div>
            <p class="mt-8"><a href="news.html" class="text-gold hover:text-goldSoft transition-colors font-medium">‚Üê Toutes les actus</a></p>
          </article>
        `;
      } catch (err) {
        console.error(err);
        el.innerHTML = '<p class="text-white/70">Impossible de charger les actualit√©s.</p>';
      }
    }

    document.addEventListener('DOMContentLoaded', render);
  </script>

</body>

  </html>