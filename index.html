<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Soirée Festival de Cannes — 13 Septembre 2025 — Bruges</title>
  <meta name="description" content="Marchez sur le tapis rouge ! Soirée à thème Festival de Cannes — Glamour, DJ, tapis rouge, photobooth, dress code chic. 13/09/2025 à Bruges." />
  <meta name="theme-color" content="#0b0b0d" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: https:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; style-src-elem 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; connect-src 'self' https://api.airtable.com;" />

  <link rel="icon" href="./icons/icon-192.png?v=20250808" />
  <link rel="manifest" href="./manifest.webmanifest?v=20250808" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'media',
      theme: {
        extend: {
          colors: {
            night: '#0b0b0d',
            noir: '#111114',
            gold: '#e8c77d',
            goldSoft: '#f0dfb0',
            ruby: '#b80f2f',
            champagne: '#f5efe1',
          },
          fontFamily: {
            display: ['"Playfair Display"', 'serif'],
            sans: ['Manrope', 'system-ui', 'sans-serif'],
          },
          boxShadow: {
            glow: '0 0 0 2px rgba(232,199,125,0.35), 0 20px 60px rgba(0,0,0,0.5)',
          },
          backgroundImage: {
            glam: 'radial-gradient(1000px 600px at 80% -10%, rgba(232,199,125,0.14), transparent 60%), linear-gradient(180deg, #0b0b0d 0%, #111114 70%, #0b0b0d 100%)',
            redcarpet: 'linear-gradient(180deg, rgba(184,15,47,0.85), rgba(184,15,47,0.92))',
          },
        },
      },
    }
  </script>


  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet" />
  
  <link rel="preload" href="./assets/hero.webp" as="image" fetchpriority="high" />
  <link rel="preload" href="./assets/logo.webp" as="image" fetchpriority="high" />

  <style>
    .gold-text { background: linear-gradient(135deg, #f7ebc2, #e8c77d, #b99243); -webkit-background-clip: text; background-clip: text; color: transparent; }
    .gold-ring { box-shadow: 0 0 0 3px rgba(232,199,125,.25); }
    .mask-fade { mask-image: linear-gradient(to bottom, black 80%, transparent 100%); -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%); }
    .noise::before { content:""; position:fixed; inset:0; pointer-events:none; opacity:.07; mix-blend-mode:soft-light;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" opacity="0.5" width="100" height="100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2"/></filter><rect filter="url(%23n)" width="100%" height="100%"/></svg>'); }
/* Effet glow doré type enseigne + léger halo vertical */
.title-cannes{
  position:relative;
  color:#fff;              /* lettres blanches comme l’exemple */
  letter-spacing:.5px;
  text-shadow:
    0 0 0 rgba(0,0,0,0),      /* fix safari layers */
    0 0 6px rgba(255,214,140,.6),
    0 0 12px rgba(232,199,125,.7),
    0 0 26px rgba(232,199,125,.75),
    0 6px 30px rgba(0,0,0,.35); /* légère profondeur */
}

/* Halo diffus doré autour du mot (comme un projecteur vers le bas) */
.title-cannes::before{
  content:"";
  position:absolute; inset:-14% -6% -28% -6%;
  background:
    radial-gradient(120% 70% at 50% 40%,
      rgba(248,229,179,.28) 0%,
      rgba(232,199,125,.22) 25%,
      rgba(232,199,125,.12) 45%,
      rgba(0,0,0,0) 70%);
  filter: blur(6px);
  z-index:-1;
  pointer-events:none;
  transform: translateZ(0);
}

/* Variante animée très subtile (optionnelle) */
@media (prefers-reduced-motion: no-preference){
  .title-cannes{ animation: glowPulse 4.5s ease-in-out infinite alternate; }
  @keyframes glowPulse{
    0%{ text-shadow:
      0 0 6px rgba(255,214,140,.55),
      0 0 12px rgba(232,199,125,.65),
      0 0 26px rgba(232,199,125,.72),
      0 6px 30px rgba(0,0,0,.35); }
    100%{ text-shadow:
      0 0 8px rgba(255,214,140,.7),
      0 0 18px rgba(232,199,125,.85),
      0 0 36px rgba(232,199,125,.9),
      0 8px 34px rgba(0,0,0,.4); }
  }
}
/* halo léger et lisible sur fond sombre */
.logo-glow {
  filter: drop-shadow(0 6px 18px rgba(232,199,125,.28)) drop-shadow(0 0 10px rgba(232,199,125,.18));
}

/* option: variante fond clair (si le logo est trop sombre) */
.header-logo-on-dark {
  /* renforce la lisibilité sur header sombre */
  backdrop-filter: blur(0.5px);
}

/* Améliorer les zones tactiles */
.touch-target {
  min-height: 44px;
  min-width: 44px;
  padding: 12px;
}

/* Mode sombre automatique */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-color: #0b0b0d;
    --text-color: #f5efe1;
  }
}

/* Styles pour le système de commentaires */
#giscus-container {
  min-height: 200px;
  border-radius: 12px;
}

/* Animation pour les nouveaux commentaires */
#commentsList > div {
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Style responsive pour les commentaires */
@media (max-width: 768px) {
  #commentForm {
    font-size: 14px;
  }
  
  #commentForm input,
  #commentForm textarea {
    padding: 12px 16px;
  }
}

  </style>

<script>
// Définir les fonctions globalement AVANT le DOMContentLoaded
// pour que les attributs onclick fonctionnent

window.requestNotificationPermission = async function() {
  console.log('🔔 Demande de permission notifications');
  if ('Notification' in window && 'serviceWorker' in navigator) {
    try {
      const permission = await Notification.requestPermission();
      if (permission === 'granted') {
        console.log('✅ Notifications autorisées');
        
        // Changer l'interface du widget
        const prompt = document.getElementById('notification-prompt');
        if (prompt) {
          const title = prompt.querySelector('h4');
          const description = prompt.querySelector('p');
          if (title) title.textContent = 'Notifications activées ✅';
          if (description) description.textContent = 'Testez le système de notifications ou gérez vos préférences.';
          
          // Masquer les boutons Activer/Plus tard
          const buttons = prompt.querySelector('.flex.gap-2');
          if (buttons) buttons.style.display = 'none';
          
          // Afficher le bouton de test
          const testContainer = document.getElementById('test-notification-container');
          if (testContainer) testContainer.style.display = 'block';
        }
      } else {
        console.log('❌ Notifications refusées');
        alert('Notifications refusées. Vous pouvez les réactiver dans les paramètres de votre navigateur.');
      }
    } catch (error) {
      console.error('❌ Erreur permission:', error);
    }
  } else {
    alert('Votre navigateur ne supporte pas les notifications.');
  }
};

window.hideNotificationPrompt = function() {
  console.log('❌ Fermeture du widget notifications');
  const prompt = document.getElementById('notification-prompt');
  if (prompt) {
    prompt.style.display = 'none';
  }
};

window.sendTestNotification = function() {
  console.log('🧪 Test de notification');
  if ('serviceWorker' in navigator && Notification.permission === 'granted') {
    navigator.serviceWorker.ready.then(registration => {
      registration.showNotification('🎬 Festival de Cannes - Test', {
        body: 'Notification de test réussie
