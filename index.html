<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Soir√©e Festival de Cannes ‚Äî 13 Septembre 2025 ‚Äî Bruges</title>
  <meta name="description" content="Marchez sur le tapis rouge ! Soir√©e √† th√®me Festival de Cannes ‚Äî Glamour, DJ, tapis rouge, photobooth, dress code chic. 13/09/2025 √† Bruges." />
  <meta name="theme-color" content="#0b0b0d" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: https:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; style-src-elem 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; connect-src 'self' https://api.airtable.com;" />

  <link rel="icon" href="./icons/icon-192.png?v=20250808" />
  <link rel="manifest" href="./manifest.webmanifest?v=20250808" />

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'media',
      theme: {
        extend: {
          colors: {
            night: '#0b0b0d',
            noir: '#111114',
            gold: '#e8c77d',
            goldSoft: '#f0dfb0',
            ruby: '#b80f2f',
            champagne: '#f5efe1',
          },
          fontFamily: {
            display: ['"Playfair Display"', 'serif'],
            sans: ['Manrope', 'system-ui', 'sans-serif'],
          },
          boxShadow: {
            glow: '0 0 0 2px rgba(232,199,125,0.35), 0 20px 60px rgba(0,0,0,0.5)',
          },
          backgroundImage: {
            glam: 'radial-gradient(1000px 600px at 80% -10%, rgba(232,199,125,0.14), transparent 60%), linear-gradient(180deg, #0b0b0d 0%, #111114 70%, #0b0b0d 100%)',
            redcarpet: 'linear-gradient(180deg, rgba(184,15,47,0.85), rgba(184,15,47,0.92))',
          },
        },
      },
    }
  </script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet" />
  
  <!-- Preload des ressources critiques -->
  <link rel="preload" href="./assets/hero.webp" as="image" fetchpriority="high" />
  <link rel="preload" href="./assets/logo.webp" as="image" fetchpriority="high" />

  <style>
    .gold-text { background: linear-gradient(135deg, #f7ebc2, #e8c77d, #b99243); -webkit-background-clip: text; background-clip: text; color: transparent; }
    .gold-ring { box-shadow: 0 0 0 3px rgba(232,199,125,.25); }
    .mask-fade { mask-image: linear-gradient(to bottom, black 80%, transparent 100%); -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%); }
    .noise::before { content:""; position:fixed; inset:0; pointer-events:none; opacity:.07; mix-blend-mode:soft-light;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" opacity="0.5" width="100" height="100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2"/></filter><rect filter="url(%23n)" width="100%" height="100%"/></svg>'); }
    /* Effet glow dor√© */
    .title-cannes{
      position:relative;
      color:#fff;
      letter-spacing:.5px;
      text-shadow:
        0 0 0 rgba(0,0,0,0),
        0 0 6px rgba(255,214,140,.6),
        0 0 12px rgba(232,199,125,.7),
        0 0 26px rgba(232,199,125,.75),
        0 6px 30px rgba(0,0,0,.35);
    }
    .title-cannes::before{
      content:"";
      position:absolute; inset:-14% -6% -28% -6%;
      background:
        radial-gradient(120% 70% at 50% 40%,
          rgba(248,229,179,.28) 0%,
          rgba(232,199,125,.22) 25%,
          rgba(232,199,125,.12) 45%,
          rgba(0,0,0,0) 70%);
      filter: blur(6px);
      z-index:-1;
      pointer-events:none;
      transform: translateZ(0);
    }
    @media (prefers-reduced-motion: no-preference){
      .title-cannes{ animation: glowPulse 4.5s ease-in-out infinite alternate; }
      @keyframes glowPulse{
        0%{ text-shadow:
          0 0 6px rgba(255,214,140,.55),
          0 0 12px rgba(232,199,125,.65),
          0 0 26px rgba(232,199,125,.72),
          0 6px 30px rgba(0,0,0,.35); }
        100%{ text-shadow:
          0 0 8px rgba(255,214,140,.7),
          0 0 18px rgba(232,199,125,.85),
          0 0 36px rgba(232,199,125,.9),
          0 8px 34px rgba(0,0,0,.4); }
      }
    }
    .logo-glow { filter: drop-shadow(0 6px 18px rgba(232,199,125,.28)) drop-shadow(0 0 10px rgba(232,199,125,.18)); }
    .header-logo-on-dark { backdrop-filter: blur(0.5px); }
    .touch-target { min-height: 44px; min-width: 44px; padding: 12px; }
    @media (prefers-color-scheme: dark) {
      :root { --bg-color: #0b0b0d; --text-color: #f5efe1; }
    }
    #giscus-container { min-height: 200px; border-radius: 12px; }
    #commentsList > div { animation: slideIn 0.3s ease-out; }
    @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    @media (max-width: 768px) {
      #commentForm { font-size: 14px; }
      #commentForm input, #commentForm textarea { padding: 12px 16px; }
    }
  </style>

  <!-- SCRIPT GLOBAL POUR BOUTONS WIDGET -->
  <script>
  // D√©finir les fonctions globales pour le widget
  window.requestNotificationPermission = async function() {
    console.log('üîî Demande de permission notifications');
    if ('Notification' in window && 'serviceWorker' in navigator) {
      try {
        const permission = await Notification.requestPermission();
        if (permission === 'granted') {
          console.log('‚úÖ Notifications autoris√©es');
          const prompt = document.getElementById('notification-prompt');
          if (prompt) {
            const title = prompt.querySelector('h4');
            const description = prompt.querySelector('p');
            if (title) title.textContent = 'Notifications activ√©es ‚úÖ';
            if (description) description.textContent = 'Testez le syst√®me de notifications ou g√©rez vos pr√©f√©rences.';
            const buttons = prompt.querySelector('.flex.gap-2');
            if (buttons) buttons.style.display = 'none';
            const testContainer = document.getElementById('test-notification-container');
            if (testContainer) testContainer.style.display = 'block';
          }
        } else {
          console.log('‚ùå Notifications refus√©es');
          alert('Notifications refus√©es. Vous pouvez les r√©activer dans les param√®tres de votre navigateur.');
        }
      } catch (error) {
        console.error('‚ùå Erreur permission:', error);
      }
    } else {
      alert('Votre navigateur ne supporte pas les notifications.');
    }
  };

  window.hideNotificationPrompt = function() {
    console.log('‚ùå Fermeture du widget notifications');
    const prompt = document.getElementById('notification-prompt');
    if (prompt) { prompt.style.display = 'none'; }
  };

  window.sendTestNotification = function() {
    console.log('üß™ Test de notification');
    if ('serviceWorker' in navigator && Notification.permission === 'granted') {
      navigator.serviceWorker.ready.then(registration => {
        registration.showNotification('üé¨ Festival de Cannes - Test', {
          body: 'Notification de test r√©ussie ! Cliquez pour revenir au site.',
          icon: './icons/icon-192.png',
          badge: './icons/icon-192.png',
          image: './assets/hero.webp',
          vibrate: [200, 100, 200, 100, 200],
          tag: 'cannes-test',
          requireInteraction: true,
          silent: false,
          timestamp: Date.now(),
          data: { url: '/#commentaires' },
          actions: [
            { action: 'view', title: 'üëÄ Voir le site', icon: './icons/icon-192.png' },
            { action: 'close', title: '‚ùå Fermer', icon: './icons/icon-192.png' }
          ]
        });
        console.log('‚úÖ Notification de test envoy√©e');
      }).catch(error => { console.error('‚ùå Erreur notification:', error); });
    } else {
      alert('Veuillez d\'abord activer les notifications.');
    }
  };
  console.log('üéØ Fonctions widget d√©finies globalement');
  </script>

</head>
<body class="bg-glam text-white font-sans noise">
  <!-- Header / Nav -->
<header class="sticky top-0 z-50 border-b border-black/20 bg-[#84131f]/60 backdrop-blur-xl text-white">
  <nav class="container mx-auto px-5 py-3 flex items-center justify-between">
    <!-- Logo + titre -->
    <a href="#hero" class="flex items-center gap-4 group">
      <img src="./assets/logo.webp?v=20250808" alt="Logo de la soir√©e" class="h-16 md:h-20 w-auto object-contain drop-shadow-[0_4px_20px_rgba(232,199,125,0.25)] logo-glow" width="128" height="128" decoding="async" fetchpriority="high" />
      <span class="hidden sm:inline text-xl md:text-[22px] font-extrabold tracking-wide gold-text transition group-hover:opacity-90"> NIGHT PARTY </span>
    </a>

    <!-- Burger -->
    <button id="nav-toggle"
            class="md:hidden p-2 rounded-lg border border-white/10 hover:bg-white/5 touch-target"
            aria-expanded="false" aria-controls="mobile-menu" aria-label="Ouvrir le menu de navigation">
      <span class="sr-only">Menu</span>
      <div class="w-6 h-[2px] bg-white my-1"></div>
      <div class="w-6 h-[2px] bg-white my-1"></div>
      <div class="w-6 h-[2px] bg-white my-1"></div>
    </button>

    <!-- Menu desktop -->
    <ul class="hidden md:flex items-center gap-6">
      <li>
        <a href="#about"
           class="relative inline-flex items-center py-2 px-1 text-[18px] lg:text-[19px] font-semibold tracking-[0.02em] text-white/90 hover:text-white transition group">
          <span>√Ä propos</span>
          <span class="pointer-events-none absolute left-1/2 -bottom-0.5 h-[2px] w-0 -translate-x-1/2 rounded bg-gradient-to-r from-transparent via-[#E8C77D] to-transparent transition-all duration-300 group-hover:w-[90%]"></span>
        </a>
      </li>
      <li>
        <a href="#program"
           class="relative inline-flex items-center py-2 px-1 text-[18px] lg:text-[19px] font-semibold tracking-[0.02em] text-white/90 hover:text-white transition group">
          <span>Programme</span>
          <span class="pointer-events-none absolute left-1/2 -bottom-0.5 h-[2px] w-0 -translate-x-1/2 rounded bg-gradient-to-r from-transparent via-[#E8C77D] to-transparent transition-all duration-300 group-hover:w-[90%]"></span>
        </a>
      </li>
      <li>
        <a href="#dress"
           class="relative inline-flex items-center py-2 px-1 text-[18px] lg:text-[19px] font-semibold tracking-[0.02em] text-white/90 hover:text-white transition group">
          <span>Dress code</span>
          <span class="pointer-events-none absolute left-1/2 -bottom-0.5 h-[2px] w-0 -translate-x-1/2 rounded bg-gradient-to-r from-transparent via-[#E8C77D] to-transparent transition-all duration-300 group-hover:w-[90%]"></span>
        </a>
      </li>
      <li>
        <a href="#gallery"
           class="relative inline-flex items-center py-2 px-1 text-[18px] lg:text-[19px] font-semibold tracking-[0.02em] text-white/90 hover:text-white transition group">
          <span>Galerie</span>
          <span class="pointer-events-none absolute left-1/2 -bottom-0.5 h-[2px] w-0 -translate-x-1/2 rounded bg-gradient-to-r from-transparent via-[#E8C77D] to-transparent transition-all duration-300 group-hover:w-[90%]"></span>
        </a>
      </li>
      <li>
        <a href="#contact"
           class="relative inline-flex items-center py-2 px-1 text-[18px] lg:text-[19px] font-semibold tracking-[0.02em] text-white/90 hover:text-white transition group">
          <span>Infos</span>
          <span class="pointer-events-none absolute left-1/2 -bottom-0.5 h-[2px] w-0 -translate-x-1/2 rounded bg-gradient-to-r from-transparent via-[#E8C77D] to-transparent transition-all duration-300 group-hover:w-[90%]"></span>
        </a>
      </li>
      <li>
        <a href="#tickets"
           class="ml-2 inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-gold to-goldSoft text-black font-semibold text-[16px] md:text-[17px] px-4 py-2 shadow-[0_4px_0_rgba(0,0,0,0.28)] hover:translate-y-[1px] hover:shadow-[0_3px_0_rgba(0,0,0,0.32)] transition">
          Confirmer
        </a>
      </li>
    </ul>

  </nav>

  <!-- MENU MOBILE -->
  <div id="mobile-menu" class="md:hidden hidden border-t border-black/20 bg-[#66000f]/90 backdrop-blur-xl">
    <div class="container mx-auto px-5 py-3 grid gap-1.5">
      <a class="block px-3 py-3 rounded-lg text-[17px] font-semibold tracking-[0.01em] text-white/90 hover:text-white hover:bg-white/10 transition" href="#about">√Ä propos</a>
      <a class="block px-3 py-3 rounded-lg text-[17px] font-semibold tracking-[0.01em] text-white/90 hover:text-white hover:bg-white/10 transition" href="#program">Programme</a>
      <a class="block px-3 py-3 rounded-lg text-[17px] font-semibold tracking-[0.01em] text-white/90 hover:text-white hover:bg-white/10 transition" href="#dress">Dress code</a>
      <a class="block px-3 py-3 rounded-lg text-[17px] font-semibold tracking-[0.01em] text-white/90 hover:text-white hover:bg-white/10 transition" href="#gallery">Galerie</a>
      <a class="block px-3 py-3 rounded-lg text-[17px] font-semibold tracking-[0.01em] text-white/90 hover:text-white hover:bg-white/10 transition" href="#contact">Infos</a>
      <a class="block px-3 py-3 rounded-xl text-black font-semibold bg-gradient-to-r from-gold to-goldSoft shadow-[0_4px_0_rgba(0,0,0,0.28)] hover:opacity-90 transition" href="#tickets">Confirmer</a>
    </div>
  </div>
</header>

  <!-- Hero -->
  <section id="hero" class="relative">
    <div class="absolute inset-0 -z-10">
      <img src="./assets/hero.webp?v=20250808" alt="" class="w-full h-[92vh] object-cover" />
      <div class="absolute inset-0 bg-black/40"></div>
    </div>

    <div class="container mx-auto px-6 flex flex-col items-center justify-center text-center min-h-[86vh]">
      <div class="mt-24 mb-6">
        <div class="inline-flex flex-wrap items-center gap-3 px-6 py-3 rounded-2xl bg-black/40 backdrop-blur-md border border-white/15 shadow-lg text-xl md:text-2xl">
          <span class="font-extrabold tracking-wide">13 septembre 2025 ‚Ä¢ 20h ‚Äî Bruges</span>
          <span class="w-2 h-2 rounded-full bg-gold inline-block"></span>
          <span class="tracking-wide">3 Rue du Tapis Vert</span>
        </div>
      </div>
      <h1 class="title-cannes font-display font-extrabold text-4xl md:text-6xl lg:text-7xl leading-tight bg-gradient-to-b from-white to-[#f7e7bf] bg-clip-text text-transparent">
        Montez les marches du Tapis Rouge <br/> rue du Tapis Vert
      </h1>
      <p class="max-w-2xl mt-4 text-champagne/90">
        Une soir√©e glamour fa√ßon Festival de Cannes: DJ set, photocall, bulles, palmes d‚Äôor, et surprises dignes des plus grandes avant-premi√®res.
      </p>

      <div id="countdown" class="mt-8 grid grid-flow-col gap-4 auto-cols-max text-center">
        <div class="bg-white/5 rounded-xl px-4 py-3 border border-white/10">
          <div class="text-3xl md:text-4xl font-extrabold" data-days>00</div>
          <div class="text-xs uppercase tracking-wide text-white/70">Jours</div>
        </div>
        <div class="bg-white/5 rounded-xl px-4 py-3 border border-white/10">
          <div class="text-3xl md:text-4xl font-extrabold" data-hours>00</div>
          <div class="text-xs uppercase tracking-wide text-white/70">Heures</div>
        </div>
        <div class="bg-white/5 rounded-xl px-4 py-3 border border-white/10">
          <div class="text-3xl md:text-4xl font-extrabold" data-mins>00</div>
          <div class="text-xs uppercase tracking-wide text-white/70">Min</div>
        </div>
        <div class="bg-white/5 rounded-xl px-4 py-3 border border-white/10">
          <div class="text-3xl md:text-4xl font-extrabold" data-secs>00</div>
          <div class="text-xs uppercase tracking-wide text-white/70">Sec</div>
        </div>
      </div>

      <div class="flex gap-3 flex-wrap justify-center mt-8">
        <a href="#tickets" class="px-6 py-3 rounded-2xl text-black font-extrabold bg-gradient-to-r from-gold to-goldSoft shadow-glow hover:opacity-90">Confirmer</a>
        <a href="#program" class="px-6 py-3 rounded-2xl border border-white/15 hover:bg-white/10">D√©couvrir le programme</a>
      </div>
      <div class="mt-10 text-white/70 text-sm">Dress code: Black tie, glamour & dor√©</div>
      
      <!-- Boutons d'action -->
      <div class="mt-6 flex flex-wrap gap-3">
        <button id="shareBtn" class="hidden px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 text-white font-semibold transition touch-target">
          üì§ Partager l'√©v√©nement
        </button>
        <button id="notifTestBtn" class="px-4 py-2 rounded-xl bg-gold/20 hover:bg-gold/30 text-gold font-semibold transition touch-target">
          üîî Tester les notifications
        </button>
      </div>
    </div>
  </section>
	
  <!-- Actus -->
  <section id="latest-news" class="py-10">
    <div class="container mx-auto px-6">
      <div class="p-5 md:p-6 rounded-2xl bg-white/5 border border-white/10">
        <div class="flex items-start justify-between gap-4 mb-4">
          <div class="text-xs uppercase tracking-wide text-white/60">Derni√®res actus</div> 
          <a href="news.html" class="shrink-0 rounded-xl border border-white/15 px-3 py-2 text-sm hover:bg-white/10">Toutes les actus</a>
        </div>
        <div id="latestNewsContainer" class="grid gap-4">Chargement‚Ä¶</div>
      </div>
    </div> 
  </section>

  <!-- √Ä propos -->
  <section id="about" class="py-20 md:py-28 bg-noir">
    <div class="container mx-auto px-6 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <h2 class="font-display text-3xl md:text-4xl gold-text">Une soir√©e d‚Äôexception</h2>
        <p class="text-white/80 mt-4">
          Marchez sur le tapis rouge, posez devant le photocall, trinquez au champagne. Une immersion totale dans l‚Äôunivers prestigieux du Festival de Cannes, √† deux pas de chez vous.
        </p>
        <ul class="mt-6 grid gap-3 text-white/80">
          <li class="flex items-center gap-3"><span class="w-2 h-2 rounded-full bg-gold"></span> Photocall & Palmes</li>
          <li class="flex items-center gap-3"><span class="w-2 h-2 rounded-full bg-gold"></span> DJ set & dancefloor</li>
          <li class="flex items-center gap-3"><span class="w-2 h-2 rounded-full bg-gold"></span> Dress code chic & dor√©</li>
          <li class="flex items-center gap-3"><span class="w-2 h-2 rounded-full bg-gold"></span> Bar √† bulles & surprises</li>
        </ul>
      </div>
      <div class="relative">
        <div class="aspect-[4/3] rounded-2xl overflow-hidden border border-white/10 shadow-glow">
          <img src="./assets/gallery1.webp" alt="Ambiance tapis rouge" class="w-full h-full object-cover" />
        </div>
        <div class="absolute -bottom-6 -right-6 hidden md:block">
          <div class="px-4 py-3 rounded-xl bg-white/10 border border-white/15 backdrop-blur-lg">
            <div class="text-sm text-white/70">Adresse</div>
            <div class="font-bold">3 Rue du Tapis Vert<br/>33520 Bruges</div>
            <div class="text-sm text-white/70 mt-1">13 septembre 2025 ‚Ä¢ 20h</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Programme -->
  <section id="program" class="py-20 md:py-28">
    <div class="container mx-auto px-6">
      <h2 class="font-display text-3xl md:text-4xl gold-text">Programme</h2>
      <div class="mt-8 grid md:grid-cols-3 gap-6">
        <div class="p-6 rounded-2xl bg-white/5 border border-white/10">
          <div class="text-gold font-extrabold">20:00</div>
          <h3 class="mt-2 font-bold text-xl">Ouverture & Tapis rouge</h3>
          <p class="mt-2 text-white/80">Accueil champagne, photocall, palmes d‚Äôor √† gagner.</p>
        </div>
        <div class="p-6 rounded-2xl bg-white/5 border border-white/10">
          <div class="text-gold font-extrabold">21:30</div>
          <h3 class="mt-2 font-bold text-xl">DJ set & Dancefloor</h3>
          <p class="mt-2 text-white/80">Classiques glam et sons actuels pour vibrer jusqu‚Äôau bout.</p>
       
